<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èº«ä½“æŠ¤ç†è´´å¸‚åœºè°ƒç ”æŠ¥å‘Š - äº’åŠ¨ä»ªè¡¨ç›˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #fdfbf7;
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }

        /* Chart Container Utilities */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%; 
            height: 300px;
            margin: 0 auto;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        
        /* Animation Utilities */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Interactive Element Styles */
        .ingredient-tag {
            transition: all 0.3s ease;
        }
        .ingredient-tag:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .nav-btn.active {
            border-bottom: 2px solid #57534e;
            color: #292524;
            font-weight: 600;
        }

        /* Print Styles */
        @media print {
            header button, #mobile-menu-btn, .no-print {
                display: none !important;
            }
            header {
                position: static;
                border-bottom: 2px solid #000;
            }
            body {
                background: white;
                color: black;
            }
            .chart-container {
                page-break-inside: avoid;
                height: 300px !important; /* Fixed height for print */
                border: 1px solid #eee;
            }
            .nav-btn {
                display: none; 
            }
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Sage, Beige, Stone) to reflect "Herbal/Health" nature of the product. -->
</head>
<body class="bg-[#fdfbf7] text-stone-800 font-sans selection:bg-stone-200">

    <!-- Header -->
    <header class="bg-white border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-stone-800 text-white rounded flex items-center justify-center font-bold text-lg">è´´</div>
                    <div>
                        <h1 class="text-xl font-bold text-stone-900 tracking-tight">èº«ä½“æŠ¤ç†è´´å¸‚åœºæ´å¯Ÿ</h1>
                        <p class="text-xs text-stone-500">æ•°æ®å‘¨æœŸ: è¿‘30å¤© | è¦†ç›–: æŠ–éŸ³/æ·˜å®/äº¬ä¸œ/æ‹¼å¤šå¤š</p>
                    </div>
                </div>
                
                <!-- Desktop Nav -->
                <div class="hidden md:flex space-x-4 items-center" id="nav-container">
                    <!-- Nav generated by JS -->
                </div>

                <!-- Action Buttons (New) -->
                <div class="hidden md:flex items-center space-x-2 ml-4 border-l border-stone-200 pl-4">
                    <button onclick="window.print()" class="text-stone-500 hover:text-stone-800 text-sm flex items-center gap-1 transition-colors" title="æ‰“å°æˆ–ä¿å­˜ä¸ºPDF">
                        <span class="text-lg">ğŸ–¨ï¸</span> æ‰“å°
                    </button>
                    <button onclick="copyLink()" class="text-stone-500 hover:text-stone-800 text-sm flex items-center gap-1 transition-colors" title="å¤åˆ¶å½“å‰é“¾æ¥">
                        <span class="text-lg">ğŸ”—</span> åˆ†äº«
                    </button>
                </div>

                <button id="mobile-menu-btn" class="md:hidden text-stone-600 focus:outline-none">
                    <span class="text-2xl">â˜°</span>
                </button>
            </div>
        </div>
        <!-- Mobile Nav -->
        <div id="mobile-nav" class="hidden md:hidden bg-white border-t border-stone-100 p-4 space-y-2 shadow-lg absolute w-full">
            <!-- Mobile nav items generated by JS -->
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen">
        
        <!-- Dynamic Content Container -->
        <div id="app-content" class="fade-in">
            <!-- Content injected by JS -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-100 border-t border-stone-200 mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center text-stone-500 text-sm">
            <p>Â© 2024 å¸‚åœºè°ƒç ”éƒ¨ | æ•°æ®æ¥æº: å…¬å¼€ç½‘ç»œé‡‡é›†ä¸åˆ†æ</p>
            <p class="mt-2">æœ¬æŠ¥å‘Šä»…ä¾›å†…éƒ¨å‚è€ƒï¼Œæ¶µç›–åŠŸæ•ˆã€åŸæ–™ã€æ¸ é“åŠæ¶ˆè´¹è€…åé¦ˆåˆ†æã€‚</p>
        </div>
    </footer>

    <script>
        // --- 1. Data Store (Simulated Report Data) ---
        const reportData = {
            overview: {
                totalGMV: "2.8äº¿+",
                growthRate: "+15.3%",
                topCategory: "è‰¾è‰è…°é¢ˆè´´",
                activeBrands: "1,200+",
                summary: "è¿‘ä¸€ä¸ªæœˆèº«ä½“æŠ¤ç†è´´å¸‚åœºå‘ˆç°å­£èŠ‚æ€§ä¸Šå‡è¶‹åŠ¿ã€‚éšç€æ°”æ¸©å˜åŒ–åŠåŠå…¬æ—å¥åº·æ„è¯†æå‡ï¼Œä»¥'è‰¾è‰'ä¸ºæ ¸å¿ƒåŸæ–™çš„è…°é¢ˆæ¤è´´ã€æš–å®«è´´å æ®ä¸»è¦ä»½é¢ã€‚æŠ–éŸ³ç”µå•†å‡­å€Ÿç›´æ’­å±•ç¤ºæˆä¸ºæœ€å¤§çš„å¢é‡æ¸ é“ï¼Œè€Œæ‹¼å¤šå¤šåˆ™åœ¨ä½ä»·èµ°é‡å¸‚åœºå æ®ç»å¯¹ä¼˜åŠ¿ã€‚"
            },
            platforms: {
                labels: ["æŠ–éŸ³ (Douyin)", "æ·˜å®/å¤©çŒ« (Taobao)", "æ‹¼å¤šå¤š (PDD)", "äº¬ä¸œ (JD)"],
                share: [42, 28, 20, 10], // Percentage
                analysis: {
                    douyin: { type: "å…´è¶£ç”µå•†", strength: "ç›´æ’­æ¼”ç¤ºæ•ˆæœå¼º", price: "29-59å…ƒ", strategy: "çŸ­è§†é¢‘ç§è‰ + ç›´æ’­é—´é€¼å•" },
                    taobao: { type: "æœç´¢ç”µå•†", strength: "å“ç±»å…¨ï¼Œå¤è´­ç¨³", price: "39-89å…ƒ", strategy: "å…³é”®è¯SEO + å¤´éƒ¨ä¸»æ’­å¸¦è´§" },
                    pdd: { type: "ç¤¾äº¤ç”µå•†", strength: "æè‡´æ€§ä»·æ¯”", price: "9.9-19.9å…ƒ", strategy: "ç™¾äº¿è¡¥è´´ + æ‹¼å›¢è£‚å˜" },
                    jd: { type: "ä¿¡ä»»ç”µå•†", strength: "ç‰©æµä¸å“è´¨èƒŒä¹¦", price: "59-129å…ƒ", strategy: "äº¬ä¸œè‡ªè¥ + åŒ»ç–—å™¨æ¢°è®¤è¯" }
                }
            },
            products: {
                efficacy: [
                    { label: "ç¼“è§£ç–¼ç—› (é¢ˆ/è…°/è†)", value: 45, color: "#a8a29e" },
                    { label: "é©±å¯’/æš–å®«", value: 25, color: "#d6d3d1" },
                    { label: "æ’æ¯’/åŠ©çœ  (è¶³è´´)", value: 18, color: "#e7e5e4" },
                    { label: "ç˜¦èº«/å¡‘å½¢", value: 12, color: "#f5f5f4" }
                ],
                ingredients: [
                    { name: "è‰¾è‰ (Mugwort)", share: 40, desc: "å¸‚åœºç»å¯¹ä¸»æµï¼Œè®¤çŸ¥åº¦é«˜ï¼Œä¸»æ‰“æ¸©ç»é€šç»œã€‚" },
                    { name: "ç”Ÿå§œ (Ginger)", share: 20, desc: "å‘çƒ­æ„Ÿå¼ºï¼Œå¸¸ä¸è‰¾è‰å¤é…ï¼Œä¸»æ‰“é©±å¯’ã€‚" },
                    { name: "è—çº¢èŠ± (Saffron)", share: 15, desc: "é«˜é˜¶å–ç‚¹ï¼Œé’ˆå¯¹å¥³æ€§ç”¨æˆ·ï¼Œä¸»æ‰“æ´»è¡€ã€‚" },
                    { name: "è‰æœ¬å¤æ–¹ (Herbal Mix)", share: 15, desc: "å¤šå‘³ä¸­è¯æ··åˆï¼Œå¼ºè°ƒä¸“ä¸šé…æ–¹ã€‚" },
                    { name: "è¿œçº¢å¤–ç²‰", share: 10, desc: "ç§‘æŠ€æ¦‚å¿µï¼Œå¸¸ç”¨äºæ¢°å­—å·äº§å“ã€‚" }
                ]
            },
            sales: {
                priceSegments: ["0-19å…ƒ", "20-39å…ƒ", "40-79å…ƒ", "80-150å…ƒ", "150å…ƒ+"],
                volumeDistribution: [35, 30, 20, 10, 5], // % of volume
                gmvDistribution: [10, 25, 35, 20, 10], // % of GMV
                topSellers: [
                    { name: "XXè‰¾è‰é¢ˆæ¤è´´", price: "Â¥29.9/ç›’", platform: "æŠ–éŸ³", sales: "10w+" },
                    { name: "XXåŒ»ç”¨è…°æ¤è´´", price: "Â¥59.0/3ç›’", platform: "äº¬ä¸œ", sales: "2w+" },
                    { name: "è€åŒ—äº¬è¶³è´´", price: "Â¥9.9/50è´´", platform: "æ‹¼å¤šå¤š", sales: "50w+" }
                ]
            },
            feedback: {
                positive: [
                    { tag: "å‘çƒ­æŒä¹…", count: 850, text: "è´´ä¸Šå»çƒ­çƒ­çš„å¾ˆèˆ’æœï¼ŒæŒç»­äº†ä¸€æ•´æ™šã€‚" },
                    { tag: "å‘³é“å¥½é—»", count: 620, text: "æ·¡æ·¡çš„è‰¾è‰å‘³ï¼Œä¸åˆºé¼»ï¼Œå¾ˆå®‰å¿ƒã€‚" },
                    { tag: "ç¼“è§£é…¸ç—›", count: 1200, text: "è´´äº†ä¹‹åè„–å­ä¸åƒµç¡¬äº†ï¼Œæ•ˆæœæ˜æ˜¾ã€‚" }
                ],
                negative: [
                    { tag: "çš®è‚¤è¿‡æ•", count: 340, text: "æ’•ä¸‹æ¥çš®è‚¤çº¢äº†ä¸€ç‰‡ï¼Œèƒ¶å¤ªç²˜äº†ï¼Œå¾ˆç—’ã€‚" },
                    { tag: "ä¸å‘çƒ­", count: 150, text: "æ ¹æœ¬æ²¡æ„Ÿè§‰ï¼Œåƒè´´äº†ä¸€å¼ è´´çº¸ï¼Œæ™ºå•†ç¨ã€‚" },
                    { tag: "æ®‹ç•™èƒ¶å°", count: 210, text: "å¾ˆéš¾æ¸…ç†ï¼Œè¡£æœä¸Šéƒ½ç²˜ä¸Šäº†é»‘ä¹ä¹çš„ä¸œè¥¿ã€‚" }
                ]
            }
        };

        // --- 2. Navigation State ---
        let currentTab = 'overview';
        const tabs = [
            { id: 'overview', label: 'å¸‚åœºæ€»è§ˆ' },
            { id: 'platforms', label: 'å¹³å°æ¸ é“åˆ†æ' },
            { id: 'products', label: 'äº§å“ä¸åŸæ–™' },
            { id: 'sales', label: 'å®šä»·ä¸é”€å”®' },
            { id: 'consumer', label: 'æ¶ˆè´¹è€…æ´å¯Ÿ' }
        ];

        // --- 3. Core Render Function ---
        function renderApp() {
            renderNav();
            renderContent();
        }

        function renderNav() {
            const navContainer = document.getElementById('nav-container');
            const mobileNav = document.getElementById('mobile-nav');
            
            // Desktop
            navContainer.innerHTML = tabs.map(tab => `
                <button 
                    onclick="switchTab('${tab.id}')"
                    class="nav-btn px-3 py-2 text-sm font-medium transition-colors duration-200 ${currentTab === tab.id ? 'active' : 'text-stone-500 hover:text-stone-800'}"
                >
                    ${tab.label}
                </button>
            `).join('');

            // Mobile
            mobileNav.innerHTML = tabs.map(tab => `
                <button 
                    onclick="switchTab('${tab.id}'); toggleMobileMenu()"
                    class="block w-full text-left px-3 py-2 text-base font-medium rounded-md ${currentTab === tab.id ? 'bg-stone-100 text-stone-900' : 'text-stone-500 hover:bg-stone-50 hover:text-stone-900'}"
                >
                    ${tab.label}
                </button>
            `).join('');
        }

        // Helper Function for Copy Link
        function copyLink() {
            const dummy = document.createElement('input');
            document.body.appendChild(dummy);
            dummy.value = window.location.href;
            dummy.select();
            document.execCommand('copy');
            document.body.removeChild(dummy);
            alert("é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ä½ å¯ä»¥å°†å…¶å‘é€ç»™åŒäº‹ã€‚");
        }

        function switchTab(tabId) {
            currentTab = tabId;
            renderApp();
            window.scrollTo(0, 0);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-nav');
            menu.classList.toggle('hidden');
        }

        document.getElementById('mobile-menu-btn').addEventListener('click', toggleMobileMenu);

        // --- 4. Content Render Logic ---
        function renderContent() {
            const container = document.getElementById('app-content');
            container.innerHTML = ''; // Clear current content
            container.classList.remove('fade-in');
            void container.offsetWidth; // Trigger reflow
            container.classList.add('fade-in');

            switch (currentTab) {
                case 'overview':
                    renderOverview(container);
                    break;
                case 'platforms':
                    renderPlatforms(container);
                    break;
                case 'products':
                    renderProducts(container);
                    break;
                case 'sales':
                    renderSales(container);
                    break;
                case 'consumer':
                    renderConsumer(container);
                    break;
            }
        }

        // --- 5. Tab View Generators ---

        function renderOverview(container) {
            container.innerHTML = `
                <div class="space-y-8">
                    <!-- Intro -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                        <h2 class="text-2xl font-bold text-stone-800 mb-4">å¸‚åœºæ¦‚å†µæ€»ç»“</h2>
                        <p class="text-stone-600 leading-relaxed">${reportData.overview.summary}</p>
                    </div>

                    <!-- Key Metrics -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-stone-50 p-4 rounded-lg text-center">
                            <div class="text-stone-400 text-sm mb-1">é¢„ä¼°æœˆGMV</div>
                            <div class="text-2xl font-bold text-stone-800">${reportData.overview.totalGMV}</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg text-center">
                            <div class="text-stone-400 text-sm mb-1">ç¯æ¯”å¢é•¿</div>
                            <div class="text-2xl font-bold text-green-600">${reportData.overview.growthRate}</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg text-center">
                            <div class="text-stone-400 text-sm mb-1">æ ¸å¿ƒå“ç±»</div>
                            <div class="text-2xl font-bold text-stone-800">${reportData.overview.topCategory}</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg text-center">
                            <div class="text-stone-400 text-sm mb-1">æ´»è·ƒå“ç‰Œæ•°</div>
                            <div class="text-2xl font-bold text-stone-800">${reportData.overview.activeBrands}</div>
                        </div>
                    </div>

                    <!-- Platform Share Chart -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="md:col-span-2 bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                            <h3 class="text-lg font-semibold text-stone-800 mb-6">å„å¹³å°å¸‚åœºä»½é¢å æ¯” (GMV)</h3>
                            <div class="chart-container">
                                <canvas id="platformShareChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-stone-800 text-white p-6 rounded-lg shadow-lg flex flex-col justify-center">
                            <h3 class="text-lg font-semibold mb-4 text-stone-100">æ ¸å¿ƒæ´å¯Ÿ</h3>
                            <ul class="space-y-4 text-stone-300 text-sm">
                                <li class="flex items-start gap-2">
                                    <span class="text-yellow-500 mt-0.5">â—</span>
                                    <span><strong>æŠ–éŸ³é¢†è·‘ï¼š</strong> å‡­å€ŸçŸ­è§†é¢‘åœºæ™¯åŒ–å±•ç¤ºï¼ˆå¦‚"åŠå…¬å®¤æ²‰æµ¸å¼è´´è†è¯"ï¼‰ï¼Œå¿«é€Ÿæ¿€å‘æ½œåœ¨éœ€æ±‚ã€‚</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-yellow-500 mt-0.5">â—</span>
                                    <span><strong>æ‹¼å¤šå¤šèµ°é‡ï¼š</strong> ä½ä»·è¶³è´´ã€å‘çƒ­è´´æ˜¯ç»å¯¹ä¸»åŠ›ï¼Œå®¢å•ä»·æä½ä½†å¤è´­ç‡é«˜ã€‚</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-yellow-500 mt-0.5">â—</span>
                                    <span><strong>å™¨æ¢°åŒ–è¶‹åŠ¿ï¼š</strong> å¤©çŒ«/äº¬ä¸œå•†å®¶å€¾å‘äºç”³è¯·"æ¢°å­—å·"è®¤è¯ä»¥æé«˜æº¢ä»·å’Œä¿¡ä»»åº¦ã€‚</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            
            setTimeout(() => {
                const ctx = document.getElementById('platformShareChart').getContext('2d');
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: reportData.platforms.labels,
                        datasets: [{
                            data: reportData.platforms.share,
                            backgroundColor: ['#44403c', '#78716c', '#a8a29e', '#d6d3d1'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'right', labels: { boxWidth: 12 } }
                        }
                    }
                });
            }, 0);
        }

        function renderPlatforms(container) {
            container.innerHTML = `
                <div class="space-y-8">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                        <h2 class="text-2xl font-bold text-stone-800 mb-2">å¹³å°æ¸ é“æ·±æŒ–</h2>
                        <p class="text-stone-600">ä¸åŒå¹³å°çš„ç”Ÿæ€å†³å®šäº†äº§å“çš„å”®å–æ–¹å¼ä¸å®šä»·ç­–ç•¥ã€‚æŠ–éŸ³é‡"å†…å®¹"ï¼Œæ·˜å®é‡"æœç´¢"ï¼Œæ‹¼å¤šå¤šé‡"ä»·æ ¼"ã€‚</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        ${Object.entries(reportData.platforms.analysis).map(([key, data]) => `
                            <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100 hover:border-stone-400 transition-colors">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="text-xl font-bold capitalize text-stone-800">${key.replace('douyin','æŠ–éŸ³').replace('taobao','æ·˜å®/å¤©çŒ«').replace('pdd','æ‹¼å¤šå¤š').replace('jd','äº¬ä¸œ')}</h3>
                                    <span class="px-3 py-1 bg-stone-100 text-stone-600 text-xs rounded-full font-medium">${data.type}</span>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex justify-between border-b border-stone-50 pb-2">
                                        <span class="text-stone-500 text-sm">æ ¸å¿ƒä¼˜åŠ¿</span>
                                        <span class="text-stone-800 text-sm font-medium">${data.strength}</span>
                                    </div>
                                    <div class="flex justify-between border-b border-stone-50 pb-2">
                                        <span class="text-stone-500 text-sm">ä¸»åŠ›ä»·æ ¼å¸¦</span>
                                        <span class="text-stone-800 text-sm font-medium">${data.price}</span>
                                    </div>
                                    <div class="bg-stone-50 p-3 rounded text-sm text-stone-700 mt-2">
                                        <strong>è¿è¥ç­–ç•¥ï¼š</strong> ${data.strategy}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="bg-stone-50 rounded-lg p-6 border border-stone-200">
                        <h3 class="text-lg font-bold text-stone-800 mb-4">å®£ä¼ å¼•æµæ–¹å¼å¯¹æ¯”</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                            <div class="p-4 bg-white rounded shadow-sm">
                                <div class="text-2xl mb-2">ğŸ“¹</div>
                                <div class="font-bold mb-2">çŸ­è§†é¢‘ç§è‰</div>
                                <div class="text-xs text-stone-500">ç—›ç‚¹å±•ç¤ºï¼ˆå¦‚ä½å¤´æ—é¢ˆç—›ï¼‰+ è´´æ•·åè½»æ¾çŠ¶æ€çš„å¯¹æ¯”ã€‚ä¸»æ”»æŠ–éŸ³/å¿«æ‰‹ã€‚</div>
                            </div>
                            <div class="p-4 bg-white rounded shadow-sm">
                                <div class="text-2xl mb-2">ğŸ”´</div>
                                <div class="font-bold mb-2">è‡ªæ’­/è¾¾æ’­</div>
                                <div class="text-xs text-stone-500">ç›´æ’­é—´ç°åœºè¯•è´´ï¼Œé€šè¿‡é™æ—¶ä¹°èµ ï¼ˆä¹°ä¸€å‘äº”ï¼‰åˆºæ¿€å†²åŠ¨æ¶ˆè´¹ã€‚</div>
                            </div>
                            <div class="p-4 bg-white rounded shadow-sm">
                                <div class="text-2xl mb-2">ğŸ”</div>
                                <div class="font-bold mb-2">æœç´¢æˆªæµ</div>
                                <div class="text-xs text-stone-500">é’ˆå¯¹"è‚©å‘¨ç‚"ã€"ç—›ç»"ç­‰ç—‡çŠ¶å…³é”®è¯è¿›è¡ŒSEOä¼˜åŒ–å’Œç›´é€šè½¦æŠ•æ”¾ã€‚ä¸»æ”»æ·˜å®/äº¬ä¸œã€‚</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderProducts(container) {
            container.innerHTML = `
                <div class="space-y-8">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                        <h2 class="text-2xl font-bold text-stone-800 mb-2">äº§å“ä¸åŸæ–™åˆ†æ</h2>
                        <p class="text-stone-600">"è‰¾è‰"ä»æ˜¯å¸‚åœºç»å¯¹çš„ç‹è€…ï¼Œä½†åœ¨åŒ…è£…è®¾è®¡ä¸Šï¼Œæ­£åœ¨ç»å†ä»"ä¼ ç»Ÿè¯æˆ¿é£"å‘"ç°ä»£å…»ç”Ÿé£"çš„è½¬å˜ã€‚</p>
                    </div>

                    <!-- Efficacy Chart -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                            <h3 class="text-lg font-semibold text-stone-800 mb-4">äº§å“åŠŸæ•ˆå®£ç§°åˆ†å¸ƒ</h3>
                            <div class="chart-container">
                                <canvas id="efficacyChart"></canvas>
                            </div>
                        </div>

                        <!-- Ingredients Wall -->
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                            <h3 class="text-lg font-semibold text-stone-800 mb-4">æ ¸å¿ƒåŸæ–™æˆåˆ† (ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…)</h3>
                            <div class="flex flex-wrap gap-3" id="ingredient-container">
                                ${reportData.products.ingredients.map((ing, index) => `
                                    <button onclick="showIngredientDetails(${index})" 
                                        class="ingredient-tag px-4 py-2 rounded-full text-sm font-medium bg-stone-100 text-stone-600 border border-stone-200 hover:bg-stone-800 hover:text-white hover:border-stone-800">
                                        ${ing.name} <span class="opacity-60 text-xs ml-1">${ing.share}%</span>
                                    </button>
                                `).join('')}
                            </div>
                            <div id="ingredient-detail-box" class="mt-6 p-4 bg-stone-50 rounded border border-stone-200 text-stone-700 hidden transition-all">
                                <!-- Details injected here -->
                            </div>
                        </div>
                    </div>

                    <!-- Design Trends -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white p-5 rounded-lg border-t-4 border-stone-400 shadow-sm">
                            <h4 class="font-bold text-stone-800 mb-2">è®¾è®¡é£æ ¼ 1: ä¸“ä¸šåŒ»ç–—é£</h4>
                            <p class="text-sm text-stone-600 mb-3">çº¢ç™½è“é…è‰²ï¼Œå¤§å·å­—ä½“å¼ºè°ƒ"æ¢°å­—å·"ã€"åŒ»ç”¨"ï¼Œæ—¨åœ¨å»ºç«‹ä¿¡ä»»æ„Ÿã€‚å¸¸è§äºäº¬ä¸œã€å¤©çŒ«å¤§è¯æˆ¿ã€‚</p>
                            <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">å…³é”®è¯ï¼šæƒå¨ã€è®¤è¯ã€åŒ»é™¢åŒæ¬¾</div>
                        </div>
                        <div class="bg-white p-5 rounded-lg border-t-4 border-stone-400 shadow-sm">
                            <h4 class="font-bold text-stone-800 mb-2">è®¾è®¡é£æ ¼ 2: å›½æ½®å…»ç”Ÿé£</h4>
                            <p class="text-sm text-stone-600 mb-3">ä½¿ç”¨æ’ç”»ã€ä¹¦æ³•å­—ä½“ï¼Œå¼ºè°ƒ"å¤æ³•ç†¬åˆ¶"ã€"ä¼ æ‰¿"ã€‚åŒ…è£…å¤šç”¨ç‰›çš®çº¸è‰²æˆ–æ·±ç»¿è‰²ã€‚å¸¸è§äºæŠ–éŸ³ã€‚</p>
                            <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">å…³é”®è¯ï¼šéé—ã€å¤æ–¹ã€æ‰‹å·¥</div>
                        </div>
                        <div class="bg-white p-5 rounded-lg border-t-4 border-stone-400 shadow-sm">
                            <h4 class="font-bold text-stone-800 mb-2">è®¾è®¡é£æ ¼ 3: æç®€Insé£</h4>
                            <p class="text-sm text-stone-600 mb-3">é’ˆå¯¹å¹´è½»å¥³æ€§ï¼Œä½é¥±å’Œåº¦é…è‰²ï¼Œå½¢çŠ¶å¼‚å½¢åŒ–ï¼ˆå¦‚èŠ±ç“£å½¢ã€çŒ«çˆªå½¢ï¼‰ã€‚å¸¸è§äºå°çº¢ä¹¦å¼•æµæ¬¾ã€‚</p>
                            <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">å…³é”®è¯ï¼šé«˜é¢œå€¼ã€ä¸å¯è§ã€ä¾¿æº</div>
                        </div>
                    </div>
                </div>
            `;

            setTimeout(() => {
                const ctx = document.getElementById('efficacyChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    indexAxis: 'y',
                    data: {
                        labels: reportData.products.efficacy.map(e => e.label),
                        datasets: [{
                            label: 'å¸‚åœºå…³æ³¨åº¦/é”€é‡å æ¯”',
                            data: reportData.products.efficacy.map(e => e.value),
                            backgroundColor: reportData.products.efficacy.map(e => e.color),
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: { x: { grid: { display: false } }, y: { grid: { display: false } } }
                    }
                });
            }, 0);

            // Expose helper function globally
            window.showIngredientDetails = (index) => {
                const data = reportData.products.ingredients[index];
                const box = document.getElementById('ingredient-detail-box');
                box.innerHTML = `<strong class="block mb-1 text-stone-900">${data.name}</strong>${data.desc}`;
                box.classList.remove('hidden');
            };
        }

        function renderSales(container) {
            container.innerHTML = `
                <div class="space-y-8">
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                        <h2 class="text-2xl font-bold text-stone-800 mb-2">å®šä»·ä¸é”€å”®ç­–ç•¥</h2>
                        <p class="text-stone-600">ä½ä»·å¼•æµï¼Œç»„åˆç›ˆåˆ©ã€‚å¸‚åœºå‘ˆç°"ä¸¤å¤´å°ä¸­é—´å¤§"çš„æ©„æ¦„å‹ç»“æ„ï¼Œ29-79å…ƒåŒºé—´ç«äº‰æœ€æ¿€çƒˆã€‚</p>
                    </div>

                    <!-- Price Volume Chart -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                        <h3 class="text-lg font-semibold text-stone-800 mb-4">ä»·æ ¼å¸¦é”€é‡ vs GMV è´¡çŒ®åº¦</h3>
                         <div class="chart-container">
                            <canvas id="priceChart"></canvas>
                        </div>
                        <div class="mt-4 text-sm text-stone-500 text-center">
                            æ•°æ®è§£è¯»ï¼š20-39å…ƒåŒºé—´é”€é‡æœ€å¤§ï¼Œä½†40-79å…ƒåŒºé—´è´¡çŒ®äº†æœ€é«˜çš„GMVï¼Œæ˜¯å“ç‰Œç›ˆåˆ©çš„æ ¸å¿ƒæˆ˜åœºã€‚
                        </div>
                    </div>

                    <!-- Top Sellers Table -->
                    <div class="bg-white overflow-hidden shadow-sm rounded-lg border border-stone-100">
                         <div class="px-6 py-4 border-b border-stone-100 bg-stone-50">
                            <h3 class="text-lg font-semibold text-stone-800">è¿‘30å¤©çƒ­é”€å•å“ç¤ºä¾‹</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-stone-200">
                                <thead class="bg-stone-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">äº§å“åç§°</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">å¹³å°</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">æ˜¾ç¤ºä»·æ ¼</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">æœˆé”€é‡ä¼°ç®—</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-stone-200">
                                    ${reportData.sales.topSellers.map(item => `
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-stone-900">${item.name}</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-500">${item.platform}</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-500">${item.price}</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-500 font-bold">${item.sales}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;

            setTimeout(() => {
                const ctx = document.getElementById('priceChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: reportData.sales.priceSegments,
                        datasets: [
                            {
                                label: 'é”€é‡å æ¯” (%)',
                                data: reportData.sales.volumeDistribution,
                                backgroundColor: '#a8a29e',
                                order: 2
                            },
                            {
                                type: 'line',
                                label: 'GMVè´¡çŒ® (%)',
                                data: reportData.sales.gmvDistribution,
                                borderColor: '#44403c',
                                borderWidth: 2,
                                tension: 0.3,
                                pointBackgroundColor: '#fff',
                                order: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#f5f5f4' }
                            },
                            x: { grid: { display: false } }
                        }
                    }
                });
            }, 0);
        }

        function renderConsumer(container) {
            container.innerHTML = `
                <div class="space-y-8">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100">
                        <h2 class="text-2xl font-bold text-stone-800 mb-2">æ¶ˆè´¹è€…æ´å¯Ÿ & åé¦ˆè¯„ä»·</h2>
                        <p class="text-stone-600">"è¿‡æ•"æ˜¯å¯¼è‡´å·®è¯„çš„é¦–è¦åŸå› ï¼Œè€Œ"å‘çƒ­æ„Ÿ"æ˜¯ç”¨æˆ·åˆ¤æ–­äº§å“æ˜¯å¦æœ‰æ•ˆçš„ç¬¬ä¸€ç›´è§‚æ ‡å‡†ã€‚</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Positive Section -->
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="text-lg font-bold text-stone-800 mb-4 flex items-center">
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">æ­£é¢</span>
                                æ»¡æ„åº¦å…³é”®è¯
                            </h3>
                            <div class="space-y-4">
                                ${reportData.feedback.positive.map(item => `
                                    <div class="bg-white p-3 rounded shadow-sm border-l-4 border-green-400">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="font-bold text-sm text-stone-800">${item.tag}</span>
                                            <span class="text-xs text-stone-400">æåŠ ${item.count}æ¬¡</span>
                                        </div>
                                        <p class="text-xs text-stone-500 italic">"${item.text}"</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Negative Section -->
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="text-lg font-bold text-stone-800 mb-4 flex items-center">
                                <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs mr-2">è´Ÿé¢</span>
                                éœ€æ”¹è¿›ç—›ç‚¹
                            </h3>
                            <div class="space-y-4">
                                ${reportData.feedback.negative.map(item => `
                                    <div class="bg-white p-3 rounded shadow-sm border-l-4 border-red-400">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="font-bold text-sm text-stone-800">${item.tag}</span>
                                            <span class="text-xs text-stone-400">æåŠ ${item.count}æ¬¡</span>
                                        </div>
                                        <p class="text-xs text-stone-500 italic">"${item.text}"</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <!-- Insight Card -->
                    <div class="bg-stone-800 text-white p-6 rounded-lg shadow-lg">
                        <h4 class="font-bold mb-2">ğŸ’¡ æ”¹è¿›å»ºè®®</h4>
                        <ul class="list-disc list-inside text-sm text-stone-300 space-y-2">
                            <li><strong>èƒ¶ä½“æ”¹è‰¯ï¼š</strong> å»ºè®®å‚å•†æ”¹ç”¨ä½æ•åŒ»ç”¨èƒ¶ï¼Œæˆ–é‡‡ç”¨æ°´åˆºæ— çººå¸ƒå¢åŠ é€æ°”æ€§ï¼Œå‡å°‘è¿‡æ•å®¢è¯‰ã€‚</li>
                            <li><strong>æ¸©æ§æŠ€æœ¯ï¼š</strong> å‘çƒ­è¿‡é«˜æ˜“çƒ«ä¼¤ï¼Œä¸çƒ­è¢«éª‚æ™ºå•†ç¨ã€‚éœ€ä¼˜åŒ–å‘çƒ­ç²‰åŒ…é…æ¯”ï¼Œç¡®ä¿æ’æ¸©æ—¶é•¿ã€‚</li>
                            <li><strong>å»å‘³åŒ–ï¼š</strong> å¹´è½»ç¾¤ä½“æ’æ–¥è¿‡é‡çš„è‰è¯å‘³ï¼Œå¯å¼€å‘æ— å‘³æˆ–æ¸…æ–°ç²¾æ²¹æ¬¾ä»¥é€‚åº”åŠå…¬åœºæ™¯ã€‚</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        // --- 6. Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderApp();
        });

    </script>
</body>
</html>
